(()=>{"use strict";var n={56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},72:n=>{var t=[];function e(n){for(var e=-1,a=0;a<t.length;a++)if(t[a].identifier===n){e=a;break}return e}function a(n,a){for(var i={},r=[],s=0;s<n.length;s++){var c=n[s],d=a.base?c[0]+a.base:c[0],l=i[d]||0,p="".concat(d," ").concat(l);i[d]=l+1;var u=e(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var g=o(m,a);a.byIndex=s,t.splice(s,0,{identifier:p,updater:g,references:1})}r.push(p)}return r}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=a(n=n||[],o=o||{});return function(n){n=n||[];for(var r=0;r<i.length;r++){var s=e(i[r]);t[s].references--}for(var c=a(n,o),d=0;d<i.length;d++){var l=e(i[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},208:(n,t,e)=>{e.d(t,{A:()=>s});var a=e(601),o=e.n(a),i=e(314),r=e.n(i)()(o());r.push([n.id,'* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: Arial, sans-serif;\n    background-color: #f5f5f5;\n    padding: 20px;\n    line-height: 1.6;\n}\n\n.container {\n    max-width: 800px;\n    margin: 0 auto;\n    background: white;\n    padding: 30px;\n    border-radius: 10px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\n    /* Add fade-in animation */\n    .fade-in {\n        opacity: 0;\n        animation: fadeIn 1s forwards;\n    }\n\n    @keyframes fadeIn {\n        to {\n            opacity: 1;\n        }\n    }\n}\n\nh1 {\n    text-align: center;\n    color: #333;\n    margin-bottom: 30px;\n    font-size: 28px;\n}\n\n.form-section {\n    background: #f9f9f9;\n    padding: 20px;\n    border-radius: 8px;\n    margin-bottom: 20px;\n}\n\n.input-group {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 15px;\n    flex-wrap: wrap;\n}\n\ninput[type="text"], input[type="number"] {\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    font-size: 16px;\n    flex: 1;\n    min-width: 150px;\n}\n\ninput[type="text"]:focus, input[type="number"]:focus {\n    outline: none;\n    border-color: #4CAF50;\n}\n\nbutton {\n    padding: 10px 20px;\n    background: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n    transition: background 0.3s;\n}\n\nbutton:hover {\n    background: #45a049;\n}\n\n.btn-danger {\n    background: #f44336;\n}\n\n.btn-danger:hover {\n    background: #da190b;\n}\n\n.btn-secondary {\n    background: #6c757d;\n}\n\n.language-switcher button {\n    background: #6c757d;\n}\n\n.btn-secondary:hover {\n    background: #545b62;\n}\n\n.participants-list {\n    margin-top: 20px;\n}\n\n.participant-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px;\n    background: white;\n    margin-bottom: 10px;\n    border-radius: 5px;\n    border: 1px solid #eee;\n}\n\n.participant-info {\n    flex: 1;\n}\n\n.remove-btn {\n    background: #f44336;\n    padding: 5px 10px;\n    font-size: 14px;\n    margin-left: 10px;\n}\n\n.results {\n    background: #e8f5e8;\n    padding: 20px;\n    border-radius: 8px;\n    margin-top: 20px;\n    display: none;\n}\n\n.results h2 {\n    color: #2e7d32;\n    margin-bottom: 15px;\n}\n\n.summary {\n    background: white;\n    padding: 15px;\n    border-radius: 5px;\n    margin-bottom: 20px;\n}\n\n.participants-results {\n    background: white;\n    padding: 15px;\n    border-radius: 5px;\n    margin-bottom: 20px;\n}\n\n.participant-result {\n    padding: 8px 0;\n    border-bottom: 1px solid #eee;\n}\n\n.participant-result:last-child {\n    border-bottom: none;\n}\n\n.transactions {\n    background: white;\n    padding: 15px;\n    border-radius: 5px;\n}\n\n.transaction-item {\n    padding: 8px 0;\n    border-bottom: 1px solid #eee;\n}\n\n.transaction-item:last-child {\n    border-bottom: none;\n}\n\n.error {\n    color: #f44336;\n    font-size: 14px;\n    margin-top: 5px;\n}\n\n.positive {\n    color: #2e7d32;\n}\n\n.negative {\n    color: #d32f2f;\n}\n\n.action-buttons {\n    display: flex;\n    gap: 10px;\n    margin-top: 20px;\n    flex-wrap: wrap;\n}\n\n@media (max-width: 600px) {\n    .container {\n        padding: 15px;\n    }\n\n    .input-group {\n        flex-direction: column;\n    }\n\n    input[type="text"], input[type="number"] {\n        min-width: 100%;\n    }\n\n    .action-buttons {\n        flex-direction: column;\n    }\n\n    button {\n        width: 100%;\n    }\n}\n\n/* Add CSS for fade-in animation */\n.fade-in {\n    animation: fadeIn 1s ease-in-out;\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n}\n\n/* Add CSS for language switcher highlight */\n.language-switcher button.active {\n    background: #4CAF50;\n    color: white;\n}',""]);const s=r},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",a=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),a&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),a&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,a,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var r={};if(a)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(r[c]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);a&&r[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var t={};n.exports=function(n,e){var a=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var a="";e.supports&&(a+="@supports (".concat(e.supports,") {")),e.media&&(a+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(a+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),a+=e.css,o&&(a+="}"),e.media&&(a+="}"),e.supports&&(a+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}}},t={};function e(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={id:a,exports:{}};return n[a](i,i.exports,e),i.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0;var a=e(72),o=e.n(a),i=e(825),r=e.n(i),s=e(659),c=e.n(s),d=e(56),l=e.n(d),p=e(540),u=e.n(p),m=e(113),g=e.n(m),f=e(208),b={};b.styleTagTransform=g(),b.setAttributes=l(),b.insert=c().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u(),o()(f.A,b),f.A&&f.A.locals&&f.A.locals;let y="en";const h={ru:{title:"Калькулятор общих трат",addParticipants:"Добавление участников",participantName:"Имя участника",participantAmount:"Потраченная сумма",addParticipant:"Добавить участника",calculate:"Подсчитать итог",clearAll:"Очистить все",copyResults:"Скопировать результат",results:"Результаты расчёта",summary:"Общая информация",details:"Детализация по участникам",transactions:"Необходимые переводы",noParticipantsAdded:"Участники не добавлены",expenseCalculation:"Расчёт общих трат",totalAmount:"Общая сумма трат",averageAmount:"Средняя сумма на человека",participantsCount:"Количество участников",shouldReceive:"должен получить",shouldPay:"должен доплатить",settled:"расчёты сведены",spent:"потратил",shouldTransfer:"должен передать",copied:"Скопировано!",noTransfersNeeded:"Переводы не нужны — все участники потратили поровну",confirmClearAll:"Вы уверены, что хотите очистить все данные?",remove:"Удалить",amountCannotBeNegative:"Сумма не может быть отрицательной",participantAlreadyExists:"Участник с таким именем уже существует",addAtLeastTwoParticipants:"Необходимо добавить минимум 2 участников",cannotBeEmpty:"Имя участника не может быть пустым"},en:{title:"Split Fair Calculator",addParticipants:"Add Persons",participantName:"Person Name",participantAmount:"Spent Amount",addParticipant:"Add Person",calculate:"Calculate Total",clearAll:"Clear All",copyResults:"Copy Results",results:"Calculation Results",summary:"Summary Information",details:"Details by Person",transactions:"Required Transfers",noParticipantsAdded:"No person added",expenseCalculation:"Calculation of total expenses",totalAmount:"Total expenses",averageAmount:"Average amount per person",participantsCount:"Number of persons",shouldReceive:"should receive",shouldPay:"should pay",settled:"settled",spent:"spent",shouldTransfer:"should transfer",copied:"Copied!",noTransfersNeeded:"Are you sure you want to clear all the data?",confirmClearAll:"Are you sure you want to clear all the data?",remove:"Remove",amountCannotBeNegative:"The amount cannot be negative",participantAlreadyExists:"The amount cannot be negative",addAtLeastTwoParticipants:"At least 2 participants must be added.",cannotBeEmpty:"The participant's name cannot be empty."}};function v(n){y=n,A(),updateParticipantsList(),x(n)}function x(n){document.querySelectorAll(".language-switcher button").forEach((t=>{t.getAttribute("onclick").includes(n)?t.classList.add("active"):t.classList.remove("active")}))}function A(){document.querySelectorAll("[data-lang]").forEach((n=>{const t=n.getAttribute("data-lang");n.textContent=h[y][t]})),document.querySelectorAll("[data-lang-placeholder]").forEach((n=>{const t=n.getAttribute("data-lang-placeholder");n.setAttribute("placeholder",h[y][t])})),checkResultsFromLocalStorage()}function w(n,t={},e=[]){const a=document.createElement(n);return Object.keys(t).forEach((n=>{a.setAttribute(n,t[n])})),e.forEach((n=>{"string"==typeof n?a.appendChild(document.createTextNode(n)):a.appendChild(n)})),a}document.addEventListener("DOMContentLoaded",(function(){let n=[];window.switchLanguage=v,window.updateLangButton=x;const t=w("div",{class:"container"},[w("div",{class:"language-switcher"},[w("button",{onclick:'switchLanguage("en")',class:"active"},["Eng"]),w("button",{onclick:'switchLanguage("ru")'},["Ru"])]),w("h1",{"data-lang":"title"},["Калькулятор общих трат"]),w("div",{class:"form-section"},[w("h2",{"data-lang":"addParticipants"},["Добавление участников"]),w("div",{class:"input-group"},[w("input",{type:"text",id:"participantName",placeholder:"Имя участника","data-lang-placeholder":"participantName"}),w("input",{type:"number",id:"participantAmount",placeholder:"Потраченная сумма","data-lang-placeholder":"participantAmount",min:"0",step:"0.01"}),w("button",{onclick:"addParticipant()","data-lang":"addParticipant"},["Добавить участника"])]),w("div",{id:"error",class:"error"}),w("div",{class:"participants-list"},[w("div",{id:"participantsList"})])]),w("div",{class:"action-buttons"},[w("button",{onclick:"calculateExpenses()","data-lang":"calculate"},["Подсчитать итог"]),w("button",{class:"btn-secondary",onclick:"clearAll()","data-lang":"clearAll"},["Очистить все"]),w("button",{class:"btn-secondary",onclick:"copyResults()",id:"copyBtn",style:"display: none;","data-lang":"copyResults"},["Скопировать результат"])]),w("div",{class:"results",id:"results"},[w("h2",{"data-lang":"results"},["Результаты расчёта"]),w("div",{class:"summary"},[w("h3",{"data-lang":"summary"},["Общая информация"]),w("div",{id:"totalAmount"}),w("div",{id:"averageAmount"}),w("div",{id:"participantsCount"})]),w("div",{class:"participants-results"},[w("h3",{"data-lang":"details"},["Детализация по участникам"]),w("div",{id:"participantsResults"})]),w("div",{class:"transactions"},[w("h3",{"data-lang":"transactions"},["Необходимые переводы"]),w("div",{id:"transactionsList"})])])]);function e(){document.getElementById("results").style.display="none",document.getElementById("copyBtn").style.display="none"}function a(n){document.getElementById("error").textContent=n}document.body.appendChild(t),window.addParticipant=function(){const t=document.getElementById("participantName"),e=document.getElementById("participantAmount"),o=document.getElementById("error"),i=t.value.trim(),r=parseFloat(e.value)||0;i?r<0?a(h[y].amountCannotBeNegative):n.some((n=>n.name.toLowerCase()===i.toLowerCase()))?a(h[y].participantAlreadyExists):(n.push({name:i,amount:r}),t.value="",e.value="",o.textContent="",updateParticipantsList()):a(h[y].participantName+" "+h[y].cannotBeEmpty)},window.removeParticipant=function(t){n.splice(t,1),updateParticipantsList(),e()},window.updateParticipantsList=function(){const t=document.getElementById("participantsList");0!==n.length?t.innerHTML=n.map(((n,t)=>`\n                <div class="participant-item">\n                    <div class="participant-info">\n                        <strong>${n.name}</strong> — ${n.amount.toFixed(2)} 🪙\n                    </div>\n                    <button class="remove-btn" onclick="removeParticipant(${t})">${h[y].remove}</button>\n                </div>\n            `)).join(""):t.innerHTML=`<p>${h[y].noParticipantsAdded}</p>`},window.calculateExpenses=function(){if(n.length<2)return void a(h[y].addAtLeastTwoParticipants);const t=n.reduce(((n,t)=>n+t.amount),0),e=t/n.length,o=n.map((n=>({...n,balance:n.amount-e}))),i=o.filter((n=>n.balance<-.01)).map((n=>({...n,balance:-n.balance}))),r=o.filter((n=>n.balance>.01)),s=calculateTransactions(i,r);displayResults(t,e,o,s);const c={totalAmount:t,averageAmount:e,participants:n,balances:o,transactions:s};localStorage.setItem("lastCalculation",JSON.stringify(c))},window.calculateTransactions=function(n,t){const e=[];let a=n.map((n=>({...n}))),o=t.map((n=>({...n})));for(;a.length>0&&o.length>0;){const n=a[0],t=o[0],i=Math.min(n.balance,t.balance);e.push({from:n.name,to:t.name,amount:i}),n.balance-=i,t.balance-=i,n.balance<.01&&a.shift(),t.balance<.01&&o.shift()}return e},window.displayResults=function(t,e,a,o){document.getElementById("totalAmount").innerHTML=`${h[y].totalAmount}: <strong>${t.toFixed(2)}</strong> 🪙`,document.getElementById("averageAmount").innerHTML=`${h[y].averageAmount}: <strong>${e.toFixed(2)}</strong> 🪙`,document.getElementById("participantsCount").innerHTML=`${h[y].participantsCount}: <strong>${n.length}</strong>`,document.getElementById("participantsResults").innerHTML=a.map((n=>{const t=n.balance>.01?`<span class="positive">${h[y].shouldReceive} <strong>${n.balance.toFixed(2)}</strong> 🪙</span>`:n.balance<-.01?`<span class="negative">${h[y].shouldPay} <strong>${(-n.balance).toFixed(2)}</strong> 🪙</span>`:h[y].settled;return`\n                    <div class="participant-result">\n                        <strong>${n.name}</strong>: ${h[y].spent} <strong>${n.amount.toFixed(2)}</strong> 🪙, ${t}\n                    </div>\n                `})).join("");const i=document.getElementById("transactionsList");0===o.length?i.innerHTML=`<p>${h[y].noTransfersNeeded}</p>`:i.innerHTML=o.map((n=>`\n                    <div class="transaction-item">\n                        <strong>${n.from}</strong> ${h[y].shouldTransfer} <strong>${n.amount.toFixed(2)}</strong> 🪙 → <strong>${n.to}</strong>\n                    </div>\n                `)).join(""),document.getElementById("results").style.display="block",document.getElementById("copyBtn").style.display="inline-block"},window.copyResults=function(){const t=n.reduce(((n,t)=>n+t.amount),0),e=t/n.length,a=n.map((n=>({...n,balance:n.amount-e}))),o=a.filter((n=>n.balance<-.01)).map((n=>({...n,balance:-n.balance}))),i=a.filter((n=>n.balance>.01)),r=calculateTransactions(o,i);let s=`${h[y].expenseCalculation}\n`;s+="===================\n\n",s+=`${h[y].totalAmount}: ${t.toFixed(2)} 🪙\n`,s+=`${h[y].averageAmount}: ${e.toFixed(2)} 🪙\n`,s+=`${h[y].participantsCount}: ${n.length}\n\n`,s+=`${h[y].details}:\n`,n.forEach((n=>{const t=n.amount-e,a=t>.01?`${h[y].shouldReceive} ${t.toFixed(2)} 🪙`:t<-.01?`${h[y].shouldPay} ${(-t).toFixed(2)} 🪙`:h[y].settled;s+=`• ${n.name}: ${h[y].spent} ${n.amount.toFixed(2)} 🪙, ${a}\n`})),s+="\n",0===r.length?s+=`n${h[y].noTransfersNeeded}:\n`:(s+=`${h[y].transactions}:\n`,s+=r.map((n=>`• ${n.from} ${h[y].shouldTransfer} ${n.amount.toFixed(2)} 🪙 → ${n.to}\n`)).join("")),navigator.clipboard.writeText(s).then((()=>{const n=document.getElementById("copyBtn"),t=n.textContent;n.textContent=h[y].copied,setTimeout((()=>{n.textContent=t}),2e3)}))},window.clearAll=function(){(n.length>0||"block"===document.getElementById("results").style.display)&&(confirm(h[y].confirmClearAll)&&(n=[],updateParticipantsList(),e(),document.getElementById("error").textContent=""),localStorage.setItem("lastCalculation",""))},window.checkResultsFromLocalStorage=function(){const t=localStorage.getItem("lastCalculation");if(t){const{totalAmount:e,averageAmount:a,participants:o,balances:i,transactions:r}=JSON.parse(t);n=o,updateParticipantsList(),displayResults(e,a,i,r)}},document.getElementById("participantName").addEventListener("keypress",(function(n){"Enter"===n.key&&document.getElementById("participantAmount").focus()})),document.getElementById("participantAmount").addEventListener("keypress",(function(n){"Enter"===n.key&&addParticipant()})),updateParticipantsList(),A()})),document.addEventListener("DOMContentLoaded",(()=>{const n=document.querySelector(".container");n&&n.classList.add("fade-in")}))})();